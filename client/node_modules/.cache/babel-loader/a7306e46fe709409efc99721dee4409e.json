{"ast":null,"code":"var _jsxFileName = \"/home/eric/Project/Exam/happy-tube/client/src/components/views/DetailVideoPage/Sections/Comments.js\";\nimport React, { useState } from 'react';\nimport { Button, Input } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport SingleComment from './SingleComment';\nconst {\n  TextArea\n} = Input;\n\nfunction Comments(props) {\n  const user = useSelector(state => state.user);\n  const [Comment, setComment] = useState(\"\");\n\n  const handleChange = event => {\n    setComment(event.currentTarget.value);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const variables = {\n      content: Comment,\n      writer: user.userData._id,\n      postId: props.postId\n    };\n    axios.post('/api/comment/saveComment', variables).then(response => {\n      if (response.data.success) {\n        setComment(\"\");\n        props.refreshFunction(response.data.result);\n      } else {\n        alert('Failed to save Comment');\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \" Replies\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), console.log(props.CommentLists), props.CommentLists && props.CommentLists.map((comment, index) => {\n    /*#__PURE__*/\n    React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SingleComment, {\n      comment: comment,\n      postId: props.postId,\n      refreshFunction: props.refreshFunction,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    style: {\n      display: 'flex'\n    },\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    style: {\n      width: '100%',\n      borderRadius: '5px'\n    },\n    onChange: handleChange,\n    value: Comment,\n    placeholder: \"write some comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: '20%',\n      height: '52px'\n    },\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n}\n\nexport default Comments;","map":{"version":3,"sources":["/home/eric/Project/Exam/happy-tube/client/src/components/views/DetailVideoPage/Sections/Comments.js"],"names":["React","useState","Button","Input","axios","useSelector","SingleComment","TextArea","Comments","props","user","state","Comment","setComment","handleChange","event","currentTarget","value","onSubmit","preventDefault","variables","content","writer","userData","_id","postId","post","then","response","data","success","refreshFunction","result","alert","console","log","CommentLists","map","comment","index","display","width","borderRadius","height"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Button, Input } from 'antd'\nimport axios from 'axios'\nimport { useSelector } from 'react-redux'\nimport SingleComment from './SingleComment'\n\nconst { TextArea } = Input\n\nfunction Comments(props){\n    \n    const user = useSelector(state => state.user)\n    const [Comment, setComment] = useState(\"\")\n\n    const handleChange = (event) => {\n        setComment(event.currentTarget.value)\n    }\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n\n        const variables = {\n            content: Comment,\n            writer: user.userData._id,\n            postId: props.postId\n        }\n\n        axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if(response.data.success){\n                    setComment(\"\")\n                    props.refreshFunction(response.data.result)\n                }else{\n                    alert('Failed to save Comment')\n                }\n            })\n    }\n\n    return(\n        <div>\n            <br />\n            <p> Replies</p>\n            <hr />\n            {console.log(props.CommentLists)}\n\n            {props.CommentLists && props.CommentLists.map((comment,index) => {\n                <React.Fragment>\n                    <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                </React.Fragment>\n            })}\n\n            <form style={{ display:'flex'}} onSubmit={onSubmit}>\n                \n                <TextArea\n                    style={{ width: '100%', borderRadius: '5px'}}\n                    onChange={handleChange}\n                    value={Comment}\n                    placeholder= \"write some comments\"\n                />\n                <br />\n                <Button style={{ width: '20%', height: '52px'}} onClick={onSubmit}>Submit</Button>\n            </form> \n        </div>\n    )\n}\n\nexport default Comments"]},"metadata":{},"sourceType":"module"}