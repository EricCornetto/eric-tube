{"ast":null,"code":"var _jsxFileName = \"/home/eric/Project/Exam/happy-tube/client/src/components/views/DetailVideoPage/Sections/LikeDislikes.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Tooltip, Icon } from 'antd';\nimport axios from 'axios';\n\nfunction LikeDislike(props) {\n  const [Likes, setLikes] = useState(0);\n  const [LikeAction, setLikeAction] = useState(null);\n  const [Dislikes, setDislikes] = useState(0);\n  const [DislikeAction, setDislikeAction] = useState(null);\n  let variable = {};\n\n  if (props.video) {\n    variable = {\n      videoId: props.videoId,\n      userId: props.userId\n    };\n  } else {\n    variable = {\n      commentId: props.commentId,\n      userId: props.userId\n    };\n  }\n\n  useEffect(() => {\n    axios.post('/api/like/getLikes', variable).then(response => {\n      if (response.data.success) {\n        setLikes(response.data.likes.length);\n        response.data.likes.map(likes => {\n          if (likes.userId === props.userId) {\n            setLikeAction('liked');\n          }\n        });\n      } else {\n        alert('Failed to get likes');\n      }\n    });\n    axios.post('/api/like/getDislikes', variable).then(response => {\n      if (response.data.success) {\n        setDislikes(response.data.dislikes.length);\n        response.data.dislikes.map(likes => {\n          if (likes.userId === props.userId) {\n            setDislikeAction('disliked');\n          }\n        });\n      } else {\n        alert('Failed to get dislikes');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    key: \"comment-basic-like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"like\",\n    theme: LikeAction === 'liked' ? 'filled' : 'outlined',\n    onClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: '8px',\n      cursor: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 16\n    }\n  }, \" \", Likes, \" \")), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"span\", {\n    key: \"comment-basic-dislike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Dislike\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"dislike\",\n    theme: DislikeAction === 'disliked' ? 'filled' : 'outlined',\n    onClick: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 20\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: '8px',\n      cursor: 'auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 16\n    }\n  }, \" \", Dislikes, \" \")));\n}\n\nexport default LikeDislike;","map":{"version":3,"sources":["/home/eric/Project/Exam/happy-tube/client/src/components/views/DetailVideoPage/Sections/LikeDislikes.js"],"names":["React","useEffect","useState","Tooltip","Icon","axios","LikeDislike","props","Likes","setLikes","LikeAction","setLikeAction","Dislikes","setDislikes","DislikeAction","setDislikeAction","variable","video","videoId","userId","commentId","post","then","response","data","success","likes","length","map","alert","dislikes","paddingLeft","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Tooltip, Icon } from 'antd'\nimport axios from 'axios'\n\n\nfunction LikeDislike(props){\n\n    const [Likes, setLikes] = useState(0)\n    const [LikeAction, setLikeAction] = useState(null)\n    const [Dislikes, setDislikes] = useState(0)\n    const [DislikeAction, setDislikeAction] = useState(null)\n\n    let variable = {}\n\n    if(props.video){\n        variable = { videoId: props.videoId, userId: props.userId}\n    }else{\n        variable = { commentId: props.commentId, userId: props.userId}\n    }\n\n    useEffect(() => {\n\n        axios.post('/api/like/getLikes', variable)\n            .then(response => {\n                if(response.data.success){\n                    setLikes(response.data.likes.length)\n\n                    response.data.likes.map(likes => {\n                        if(likes.userId === props.userId){\n                            setLikeAction('liked')\n                        }\n                    })\n                }else{\n                    alert('Failed to get likes')\n                }\n            })\n\n            axios.post('/api/like/getDislikes', variable)\n            .then(response => {\n                if(response.data.success){\n                    setDislikes(response.data.dislikes.length)\n\n                    response.data.dislikes.map(likes => {\n                        if(likes.userId === props.userId){\n                            setDislikeAction('disliked')\n                        }\n                    })\n                }else{\n                    alert('Failed to get dislikes')\n                }\n            })\n    }, [])\n\n    return(\n       <React.Fragment>\n           <span key=\"comment-basic-like\">\n               <Tooltip title=\"Like\">\n                   <Icon type=\"like\"\n                        theme={LikeAction === 'liked' ? 'filled' : 'outlined'}\n                        onClick />\n               </Tooltip>\n               <span style={{ paddingLeft:'8px', cursor:'auto'}}> {Likes} </span>\n           </span>&nbsp;&nbsp;\n           <span key=\"comment-basic-dislike\">\n               <Tooltip title=\"Dislike\">\n                   <Icon type=\"dislike\"\n                        theme={DislikeAction === 'disliked' ? 'filled' : 'outlined'}\n                        onClick />\n               </Tooltip>\n               <span style={{ paddingLeft:'8px', cursor:'auto'}}> {Dislikes} </span>\n           </span>\n       </React.Fragment>\n    )\n}\n\nexport default LikeDislike"]},"metadata":{},"sourceType":"module"}